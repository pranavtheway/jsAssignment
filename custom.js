var countryStateInfo = {
	"Australia": {
		"New South Wales": {
			"Sydney":"Sydneyx`",
            "Newcastle–Maitland":"Newcastle–Maitland",
            "Wollongong":"Wollongong",
            "Coffs Harbour":"Coffs Harbour",
            "Orange":"Orange",
            "Bowral–Mittagong":"Bowral–Mittagong",
            "Dubbo":"Dubbo",
            "Nowra–Bomaderry":"Nowra–Bomaderry",
            "Bathurst":"Bathurst",
            "Lismore":"Lismore"
		},
		"Victoria": {
			"Melbourne":"Melbourne",
            "Geelong":"Geelong",
            "Ballarat":"Ballarat",
            "Bendigo":"Bendigo",
            "Warragul–Drouin":"Warragul–Drouin",
            "Warrnambool":"Warrnambool",
            "Echuca–Moama":"Echuca–Moama",
            "Wangaratta":"Wangaratta",
            "Moe–Newborough":"Moe–Newborough",
            "Horsham":"Horsham"
        },
        "Queensland":{
            "Brisbane":"Brisbane",
            "Sunshine Coast":"Sunshine Coast",
            "Cairns":"Cairns",
            "Townsville":"Townsville",
            "Toowoomba":"Toowoomba",
            "Mackay":"Mackay",
            "Rockhampton":"Rockhampton",
            "Bundaberg":"Bundaberg",
            "Hervey Bay":"Hervey Bay",
            "Gladstone–Tannum Sands":"Gladstone–Tannum Sands"
        },
        "Western Australia":{
            "Perth":"Perth",
            "Bunbury":"Bunbury",
            "Busselton":"Busselton",
            "Geraldton":"Geraldton",
            "Albany":"Albany",
            "Kalgoorlie–Boulder":"Kalgoorlie–Boulder",
            "Karratha":"Karratha",
            "Broome":"Broome",
            "Port Hedland":"Port Hedland",
            "Esperance":"Esperance"
        },
        "Tasmania":{
            "Richmond":"Richmond",
            "Strahan":"Strahan",
            "Penguin":"Penguin",
            "Geraldton":"Geraldton",
            "Corinna":"Corinna",
            "Evandale":"Evandale",
            "Bicheno":"Bicheno",
            "Port Arthur":"Port Arthur",
            "Coles Bay":"Coles Bay",
            "Launceston":"Launceston"
        },
        "Northern Territory":{
            "Darwin":"Darwin",
            "Palmerston":"Palmerston"
        }
	},
	"India": {
		"Assam": {
			"Dispur":"Dispur",
            "Guwahati":"Guwahati",
            "Dibrugarh":"Dibrugarh",
            "Jorhat":"Jorhat",
            "Tezpur":"Tezpur",
            "Tinsukhia":"Tinsukhia",
            "Silchar":"Silchar",
            "Nagaon":"Nagaon",
            "Haflong":"Haflong",
			"Sivasagar":"Sivasagar"
		},
		"Gujarat": {
            "Ahmedabad":"Ahmedabad",
			"Vadodara":"Vadodara",
            "Surat" : "Surat",
            "Rajkot":"Rajkot",
            "Bhavnagar":"Bhavnagar",
			"Gandhinagar":"Gandhinagar",
            "Jamnagar" : "Jamnagar",
            "Junagadh":"Junagadh",
            "Anand" : "Anand",
            "Nasari":"Nasari",
        },
        "Maharashtra": {
			"Pune":"Pune",
            "Mumbai" : "Mumbai",
            "Nasik":"Nasik",
            "Nagpur":"Nagpur",
            "Latur":"Latur",
            "Kolhapur":"Kolhapur",
            "Lonavla":"Lonavla",
            "Solapur":"Solapur",
            "Aurangabad":"Aurangabad",
            "Shirdi":"Shirdi"
        },
        "Madhya Pradesh":{
			"Bhopal":"Bhopal",
            "Indore" : "Indore",
            "Jabalpur":"Jabalpur",
            "Ujjain":"Ujjain",
            "Gwalior":"Gwalior",
            "Sagar":"Sagar",
            "Rewa":"Rewa",
            "Khajuraho":"Khajuraho",
            "Pachmari":"Pachmari",
            "Shivpuri":"Shivpuri"
        },
        "Karnataka":{
            "Bengaluru":"Bengaluru",
            "Manglore":"Manglore",
            "Hubli":"Hubli",
            "Belgaum":"Belgaum",
            "Mysore":"Mysore",
            "Gulbarga":"Gulbarga",
            "Shimoga":"Shimoga",
            "Bijapur":"Bijapur",
            "Davangere":"Davangere",
            "Udupi":"Udupi",
            "Bellary":"Bellary"
        },
        "Uttar Pradesh":{
            "Lucknow":"Lucknow",
            "Kanpur":"Kanpur",
            "Varanasi":"Varanasi",
            "Agra":"Agra",
            "Allahabad":"Allahabad",
            "Jhansi":"Jhansi",
            "Meerut":"Meerut",
            "Noida":"Noida",
            "Barielly":"Barielly",
            "Aligarh":"Aligarh",
        },
        "Kerala":{
            "Kochi":"Kochi",
            "Munnar":"Munnar",
            "Kozhikode":"Kozhikode",
            "Alapuzzah":"Alapuzzah",
            "Thrissur":"Thrissur",
            "Kottyam":"Kottyam",
            "Vagamon":"Vagamon",
            "Thalassery":"Thalassery",
            "Varkala":"Varkala"
        },
        "Rajasthan":{
            "Jaipur":"Jaipur",
            "Udaipur":"Udaipur",
            "Jodhpur":"Jodhpur",
            "Kota":"Kota",
            "Bikaner":"Bikaner",
            "Ajmer":"Ajmer",
            "Jaisalmer":"Jaisalmer",
            "Pushkar":"Pushkar",
            "Alwar":"Alwar",
            "Chittorgarh":"Chittorgarh",
        },
        "Andhra Pradeh":{
            "Vijaywada":"Vijaywada",
            "Visakhapatnam":"Visakhapatnam",
            "Tirupati":"Tirupati",
            "Kakinada":"Kakinada",
            "Rajahmundry":"Rajahmundry",
            "Guntur":"Guntur",
            "Eluru":"Eluru",
            "Anantpura":"Anantpura",
            "Nellore":"Nellore"
        },
        "Chattisgarh":{
            "Raipur":"Raipur",
            "Bilaspur":"Bilaspur",
            "Bhilai":"Bhilai",
            "Jagdalpur":"Jagdalpur",
            "Korba":"Korba",
            "Ambikapur":"Ambikapur",
            "Raigarh":"Raigarh",
            "Durg":"Durg",
            "Champa":"Champa",
            "Atal Nagar":"Atal Nagar",
        }
    },
    "Pakistan":{
        "Balochistan":{
            "Quetta":"Quetta",
            "Khuzdar":"Khuzdar",
            "Chaman":"Chaman",
            "Turbat":"Turbat",
            "Sibi":"Sibi",
            "Lasbela":"Lasbela",
            "Zhob":"Zhob",
            "Gwadar":"Gwadar",
            "Nasirabad":"Nasirabad",
            "Jaffarabad":"Jaffarabad"
        },
        "Khyber":{
            "Peshawar":"Peshawar",
            "Mardan":"Mardan",
            "Buner":"Buner",
            "Kohat":"Kohat",
            "Abbottabad":"Abbottabad",
            "Bannu":"Bannu",
            "Swabi":"Swabi",
            "Dera Ismail Khan":"Dera Ismail Khan",
            "Charsadda":"Charsadda",
            "Nowshera":"Nowshera"
        },
        "Punjab":{
            "Lahore":"Lahore",
            "Faisalabad":"Faisalabad",
            "Rawalpindi":"Rawalpindi",
            "Gujranwala":"Gujranwala",
            "Multan":"Multan",
            "Sargodha":"Sargodha",
            "Bahawalpur":"Bahawalpur",
            "Sialkot":"Sialkot",
            "Sheikhupura":"Sheikhupura",
            "Gujrat":"Gujrat"
        },
        "Sindh":{
            "karachi":"karachi",
            "Hyderabad":"Hyderabad",
            "Sukkur":"Sukkur",
            "Larkana":"Larkana",
            "Nawabshah":"Nawabshah",
            "MirpurKhas":"MirpurKhas",
            "Jacobabad":"Jacobabad",
            "Shikarpur":"Shikarpur",
            "Khairpur":"Khairpur",
            "Dadu":"Dadu"
        }
    }
}

var listOfUsers = ["Pranavda", "Pankajtr", "Visheshk","Yatriksh","Parthdav"];


window.onload = function () {
	var countrySel = document.getElementById("country");
	var stateSel = document.getElementById("state");	
	var citySel = document.getElementById("city");
	
	//Load countries
	for (var country in countryStateInfo) {
		countrySel.options[countrySel.options.length] = new Option(country, country);
	}
	
	//County Changed
	countrySel.onchange = function () {
		 
		 stateSel.length = 1; // remove all options 
		 citySel.length = 1; // remove all options
		 
		 if (this.selectedIndex < 1)return;
		 
		 for (var state in countryStateInfo[this.value]) {
			 stateSel.options[stateSel.options.length] = new Option(state, state);
		 }
	}
	
	//State Changed
	stateSel.onchange = function () {		 
		 
		 citySel.length = 1; // remove all options bar first
		 
		 if (this.selectedIndex < 1)return; 
			 
		 for (var city in countryStateInfo[countrySel.value][this.value]) {
			 citySel.options[citySel.options.length] = new Option(city, city);
		 }
	}	
}

function validateOnChange(event){
    
    switch (event.target.id) {
        case 'uname':
        let uname = document.getElementById('uname'),
            unameError = document.getElementById('uname-error');
        if(uname.value === ""){
            unameError.classList.remove("uname-error-hide");unameError.classList.add("uname-error-show");
            unameError.innerHTML = "Please enter unique username";
            sessionStorage.setItem('unamePass',false);
            // return false;
        }else{
            if(listOfUsers.indexOf(uname.value) !== -1){
                unameError.innerHTML = "Username already exist!! Please try again";
                unameError.classList.remove("uname-error-hide");
                unameError.classList.add("uname-error-show");
                sessionStorage.setItem('unamePass',false);
                // return false;
            }else{
                unameError.classList.remove("uname-error-show");
                unameError.classList.add("uname-error-hide");
                unameValid = true
                sessionStorage.setItem('unamePass',true);
                // return true;
            }
            // if(unameError.classList.contains("uname-error-show")){
                
            // }
        }
            break;
        case 'email':
        let email = document.getElementById('email'),emailError = document.getElementById('email-error'),regEmail = /(\w+)\@(\w+)\.[a-zA-Z]/g;
        if(email.value === ""){
            emailError.classList.remove("email-error-hide");emailError.classList.add("email-error-show");
            emailError.innerHTML = "Please enter email address";
            sessionStorage.setItem('emailPass',false);
            // return false;
        }else{
            if(!regEmail.test(email.value)){
                emailError.classList.remove("email-error-hide");
                emailError.classList.add("email-error-show");
                emailError.innerHTML = "Please enter valid email address";
                sessionStorage.setItem('emailPass',false);
                // return false;
            }else{
                emailError.innerHTML = "";
                emailError.classList.remove("email-error-show");
                emailError.classList.add("email-error-hide");
                sessionStorage.setItem('emailPass',true);
                // return true;
            }
        }
        break;
        case 'dob':
        let dob = document.getElementById('dob'),dobError = document.getElementById('dob-error');
        if(dob.value===""){
            dobError.classList.remove("dob-error-hide");dobError.classList.add("dob-error-show");
            dobError.innerHTML = "Please enter date of birth";
            sessionStorage.setItem('dobPass',false);
            // return false;
        }else{
            dobError.innerHTML = "";
            dobError.classList.remove("dob-error-show");dobError.classList.add("dob-error-hide");
            sessionStorage.setItem('dobPass',true);
            // return true;
        }
        break;
        case "password":
        let passPattern = new RegExp(/^(?=.*[a-zA-Z])(?=.*\d)(?=.*[!@#$%^&*()_+])[A-Za-z\d][A-Za-z\d!@#$%^&*()_+]{4,7}$/), password = document.getElementById('password'),passwordError = document.getElementById('password-error');
        if(password.value===""){
            passwordError.classList.remove("password-error-hide");passwordError.classList.add("password-error-show");
            passwordError.innerHTML = "Please enter the password";
            sessionStorage.setItem('passwordPass',false);
            // return false;
        }else{
            if(!passPattern.test(password.value)){
                passwordError.classList.remove("password-error-hide");
                passwordError.classList.add("password-error-show");
                passwordError.innerHTML = "Please enter valid password which includes atlest 1 digit and 1 special character";
                sessionStorage.setItem('passwordPass',false);
                // return false;
            }else{
                passwordError.innerHTML = "";
                passwordError.classList.remove("password-error-show");passwordError.classList.add("password-error-hide");
                sessionStorage.setItem('passwordPass',true);
                // return true;
            }
        }
        break;
        case "country":
        let cntry = document.getElementById('country'),
        cntryError = document.getElementById('cntry-error');
        if(cntry.value === ""){
            cntryError.classList.remove("cntry-error-hide");cntryError.classList.add("cntry-error-show");
            cntryError.innerHTML = "Please select a country";
            sessionStorage.setItem('countryPass',false);
            // return false;
        }else{
            cntryError.classList.add("cntry-error-hide");cntryError.classList.remove("cntry-error-show");
            cntryError.innerHTML = "";
            sessionStorage.setItem('countryPass',true);
            // return true;
        }
        break;
        case 'state':
        let mystate = document.getElementById('state'),stateError = document.getElementById('state-error');
        if(mystate.value===""){
            stateError.classList.remove("state-error-hide");stateError.classList.add("state-error-show");
            stateError.innerHTML = "Please select a state";
            sessionStorage.setItem('statePass',false);
            // return false;
        }else{
            stateError.classList.add("state-error-hide");stateError.classList.remove("state-error-show");
            stateError.innerHTML = "";
            sessionStorage.setItem('statePass',true);
            // return true;
        }
        break;
        case 'city':
        let mycity = document.getElementById('city'),cityError = document.getElementById('city-error');
        if(city.value===""){
            cityError.classList.remove("city-error-hide");cityError.classList.add("city-error-show");
            cityError.innerHTML = "Please select a city";
            sessionStorage.setItem('cityPass',false);
            // return false;
        }else{
            cityError.classList.add("city-error-hide");cityError.classList.remove("city-error-show");
            cityError.innerHTML = "";
            sessionStorage.setItem('cityPass',true);
            // return true;
        }
        break;
        default:
            break;
    }
    
}

function submitForm(){
    if(valdateForm()){
        document.getElementById("success").innerHTML = "Application submitted successfully";
    }
}


function valdateForm(){

        let uname = document.getElementById('uname'),
            unameError = document.getElementById('uname-error');
        if(uname.value === ""){
            unameError.classList.remove("uname-error-hide");unameError.classList.add("uname-error-show");
            unameError.innerHTML = "Please enter unique username";
             return false;
        }else{
            if(listOfUsers.indexOf(uname.value) !== -1){
                unameError.innerHTML = "Username already exist!! Please try again";
                unameError.classList.remove("uname-error-hide");
                unameError.classList.add("uname-error-show");
                // sessionStorage.setItem('unamePass',false);
                return false;
            }else{
                unameError.classList.remove("uname-error-show");
                unameError.classList.add("uname-error-hide");
                unameValid = true
                // sessionStorage.setItem('unamePass',true);
                return true;
            }
        }

        let email = document.getElementById('email'),emailError = document.getElementById('email-error'),regEmail = /(\w+)\@(\w+)\.[a-zA-Z]/g;
        if(email.value === ""){
            emailError.classList.remove("email-error-hide");emailError.classList.add("email-error-show");
            emailError.innerHTML = "Please enter email address";
            // sessionStorage.setItem('emailPass',false);
            return false;
        }else{
            if(!regEmail.test(email.value)){
                emailError.classList.remove("email-error-hide");
                emailError.classList.add("email-error-show");
                emailError.innerHTML = "Please enter valid email address";
                // sessionStorage.setItem('emailPass',false);
                return false;
            }else{
                emailError.innerHTML = "";
                emailError.classList.remove("email-error-show");
                emailError.classList.add("email-error-hide");
                // sessionStorage.setItem('emailPass',true);
                return true;
            }
        }
      
        let dob = document.getElementById('dob'),dobError = document.getElementById('dob-error');
        if(dob.value===""){
            dobError.classList.remove("dob-error-hide");dobError.classList.add("dob-error-show");
            dobError.innerHTML = "Please enter date of birth";
            // sessionStorage.setItem('dobPass',false);
            return false;
        }else{
            dobError.innerHTML = "";
            dobError.classList.remove("dob-error-show");dobError.classList.add("dob-error-hide");
            // sessionStorage.setItem('dobPass',true);
            return true;
        }

        let passPattern = new RegExp(/^(?=.*[a-zA-Z])(?=.*\d)(?=.*[!@#$%^&*()_+])[A-Za-z\d][A-Za-z\d!@#$%^&*()_+]{4,7}$/), password = document.getElementById('password'),passwordError = document.getElementById('password-error');
        if(password.value===""){
            passwordError.classList.remove("password-error-hide");passwordError.classList.add("password-error-show");
            passwordError.innerHTML = "Please enter the password";
            // sessionStorage.setItem('passwordPass',false);
            return false;
        }else{
            if(!passPattern.test(password.value)){
                passwordError.classList.remove("password-error-hide");
                passwordError.classList.add("password-error-show");
                passwordError.innerHTML = "Please enter valid password which includes atlest 1 digit and 1 special character";
                // sessionStorage.setItem('passwordPass',false);
                return false;
            }else{
                passwordError.innerHTML = "";
                passwordError.classList.remove("password-error-show");passwordError.classList.add("password-error-hide");
                // sessionStorage.setItem('passwordPass',true);
                return true;
            }
        }
     
        let cntry = document.getElementById('country'),
        cntryError = document.getElementById('cntry-error');
        if(cntry.value === ""){
            cntryError.classList.remove("cntry-error-hide");cntryError.classList.add("cntry-error-show");
            cntryError.innerHTML = "Please select a country";
            // sessionStorage.setItem('countryPass',false);
            return false;
        }else{
            cntryError.classList.add("cntry-error-hide");cntryError.classList.remove("cntry-error-show");
            cntryError.innerHTML = "";
            // sessionStorage.setItem('countryPass',true);
            return true;
        }
        
        let mystate = document.getElementById('state'),stateError = document.getElementById('state-error');
        if(mystate.value===""){
            stateError.classList.remove("state-error-hide");stateError.classList.add("state-error-show");
            stateError.innerHTML = "Please select a state";
            // sessionStorage.setItem('statePass',false);
            return false;
        }else{
            stateError.classList.add("state-error-hide");stateError.classList.remove("state-error-show");
            stateError.innerHTML = "";
            // sessionStorage.setItem('statePass',true);
            return true;
        }
      
        let mycity = document.getElementById('city'),cityError = document.getElementById('city-error');
        if(city.value===""){
            cityError.classList.remove("city-error-hide");cityError.classList.add("city-error-show");
            cityError.innerHTML = "Please select a city";
            // sessionStorage.setItem('cityPass',false);
            return false;
        }else{
            cityError.classList.add("city-error-hide");cityError.classList.remove("city-error-show");
            cityError.innerHTML = "";
            // sessionStorage.setItem('cityPass',true);
            return true;
        }

}